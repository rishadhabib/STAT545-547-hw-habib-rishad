---
title: 'Homework 06: Data wrangling wrap up'
author: "RH"
date: "November 8, 2017"
output:  
  github_document: 
    toc: true
    toc_depth: 5
---


```{r setup, include=FALSE}
## Loading libraries
library(tidyverse)
library(gapminder)
library(knitr)

```

Pick (at least) two of the six (numbered) topics below and do one of the exercise prompts listed, or something comparable using your dataset of choice.


I pick topic 1 & 2


### 1. Character data

Read and work the exercises in the Strings chapter or R for Data Science - http://r4ds.had.co.nz/strings.html


##### 14.2.5 Exercises

In code that doesn’t use stringr, you’ll often see paste() and paste0(). What’s the difference between the two functions? What stringr function are they equivalent to? How do the functions differ in their handling of NA?

paste0(..., collapse) is equivalent to paste(..., sep = "", collapse), slightly more efficiently. However, paste() coerces NA_character_, the character missing value, to "NA" which is sometimes useful and sometimes not. Also if we pass several vectors to paste0, they are concatenated in a vectorized way.

```{r}
x <- c("A", 1, NA, "B")
paste(x, collapse = "" )
paste0(x, collapse = "" )
```


In your own words, describe the difference between the sep and collapse arguments to str_c().
- The separator argument, sep, gives the character used to separate the different object by putting this character between inputs
- collapse is used to put together input vectors into a string

Use str_length() and str_sub() to extract the middle character from a string. What will you do if the string has an even number of characters?

```{r}
y <- "hellooworld"
str_sub(y, floor(str_length(y)/2 ), floor(str_length(y)/2 ))
```


What does str_wrap() do? When might you want to use it?

- it is a character vector of re-wrapped strings.
- it's useful if you need to wrap sentences based on screen sizes, for instance.

What does str_trim() do? What’s the opposite of str_trim()?


Write a function that turns (e.g.) a vector c("a", "b", "c") into the string a, b, and c. Think carefully about what it should do if given a vector of length 0, 1, or 2.

14.3.5.1 Exercises

1. Describe, in words, what these expressions will match:

(.)\1\1
"(.)(.)\\2\\1"
(..)\1
"(.).\\1.\\1"
"(.)(.)(.).*\\3\\2\\1"

2. Construct regular expressions to match words that:

Start and end with the same character.

Contain a repeated pair of letters (e.g. “church” contains “ch” repeated twice.)

Contain one letter repeated in at least three places (e.g. “eleven” contains three “e”s.)



14.4.2 Exercises

1. For each of the following challenges, try solving it by using both a single regular expression, and a combination of multiple str_detect() calls.

Find all words that start or end with x.

Find all words that start with a vowel and end with a consonant.

Are there any words that contain at least one of each different vowel?

2. What word has the highest number of vowels? What word has the highest proportion of vowels? (Hint: what is the denominator?)


14.4.3.1 Exercises

1. In the previous example, you might have noticed that the regular expression matched “flickered”, which is not a colour. Modify the regex to fix the problem.

2. From the Harvard sentences data, extract:

The first word from each sentence.
All words ending in ing.
All plurals.

14.4.4.1 Exercises

1. Find all words that come after a “number” like “one”, “two”, “three” etc. Pull out both the number and the word.

2. Find all contractions. Separate out the pieces before and after the apostrophe.


14.4.5.1 Exercises

1. Replace all forward slashes in a string with backslashes.

2. Implement a simple version of str_to_lower() using replace_all().

3. Switch the first and last letters in words. Which of those strings are still words?


14.4.6.1 Exercises

1. Split up a string like "apples, pears, and bananas" into individual components.

2. Why is it better to split up by boundary("word") than " "?

3. What does splitting with an empty string ("") do? Experiment, and then read the documentation.

14.5.1 Exercises

1. How would you find all strings containing \ with regex() vs. with fixed()?

2. What are the five most common words in sentences?

14.7.1 Exercises

Find the stringi functions that:

Count the number of words.
Find duplicated strings.
Generate random text.
How do you control the language that stri_sort() uses for sorting?



### 2. Writing functions